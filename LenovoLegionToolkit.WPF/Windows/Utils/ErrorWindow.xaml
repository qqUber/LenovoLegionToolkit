<wpfui:FluentWindow
    x:Class="LenovoLegionToolkit.WPF.Windows.Utils.ErrorWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:wpfui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:compat="clr-namespace:LenovoLegionToolkit.WPF.Compat"
    xmlns:ui="clr-namespace:Wpf.Ui.Controls;assembly=Wpf.Ui"
    Title="Error"
    Width="480"
    Height="320"
    MinWidth="400"
    MinHeight="280"
    WindowStartupLocation="CenterScreen"
    ResizeMode="NoResize"
    ExtendsContentIntoTitleBar="True"
    WindowBackdropType="Mica">
    
    <Grid Margin="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        
        <!-- Header with Icon and Title -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,16">
            <wpfui:SymbolIcon 
                x:Name="_icon"
                Symbol="ErrorCircle24" 
                FontSize="40" 
                Foreground="#E81123"
                VerticalAlignment="Center"
                Margin="0,0,16,0" />
            <TextBlock 
                x:Name="_titleText"
                Text="Error"
                FontSize="22"
                FontWeight="SemiBold"
                VerticalAlignment="Center"
                TextWrapping="Wrap" />
        </StackPanel>
        
        <!-- Message -->
        <wpfui:TextBox 
            Grid.Row="1"
            x:Name="_messageText"
            Text="An error occurred."
            FontSize="13"
            FontFamily="Consolas, Monospace"
            TextWrapping="Wrap"
            IsReadOnly="True"
            AcceptsReturn="True"
            VerticalScrollBarVisibility="Auto"
            HorizontalScrollBarVisibility="Disabled"
            IsReadOnlyCaretVisible="True"
            BorderThickness="1"
            Margin="0,0,0,8"
            Padding="8"
            PlaceholderText="Error details will appear here..." />
        
        <!-- Buttons -->
        <DockPanel Grid.Row="2" Margin="0,16,0,0">
            <compat:Button 
                x:Name="_copyButton"
                Content="Copy Details"
                Icon="{x:Static ui:SymbolRegular.Copy24}"
                Appearance="Secondary"
                MinWidth="120"
                DockPanel.Dock="Left"
                Click="CopyButton_Click" />
            
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <wpfui:Button 
                    x:Name="_secondaryButton"
                    Content="Cancel"
                    Appearance="Secondary"
                    MinWidth="100"
                    Margin="0,0,12,0"
                    Visibility="Collapsed"
                    Click="SecondaryButton_Click" />
                <wpfui:Button 
                    x:Name="_primaryButton"
                    Content="OK"
                    Appearance="Primary"
                    MinWidth="100"
                    Click="PrimaryButton_Click" />
            </StackPanel>
        </DockPanel>
    </Grid>
</wpfui:FluentWindow>
